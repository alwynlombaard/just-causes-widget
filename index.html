<!DOCTYPE html>
<html ng-app="generatorApp">

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Just-causes-widget : A widget to embed on your site showing the causes you&#39;re fundraising for on JustGiving" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
    <link rel="stylesheet" type="text/css" media="screen" href="https://just-causes-widget.azurewebsites.net/just-causes-1.0.0.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.21/angular.min.js"></script> 
	<script src="generator.js"></script> 

    <title>Just-causes-widget</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
		  <a id="forkme_banner" href="https://github.com/alwynlombaard/just-causes-widget">BETA</a>
          <h1 id="project_title">Just causes widget</h1>
          <h2 id="project_tagline">A widget to embed on your site showing the causes you&#39;re fundraising for on JustGiving</h2>

        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <!--
		<h1>

		<a name="just-causes-widget" class="anchor" href="#just-causes-widget"><span class="octicon octicon-link"></span></a>Just causes widget</h1>

		<p>A widget to embed on your site showing the causes you're fundraising for on JustGiving</p>
		-->
		<div ng-controller="AppCtrl" style="min-height: 150px;">	
			<label for="jgaccount">Enter your JustGiving account email</label> 
			<input type="email" id="jgaccount" ng-model="jgAccount"/>
			
			<button ng-disabled="!jgAccount">Get</button>
			<button ng-show="jgAccount" ng-click="preview();">Preview widget</button>
			<button ng-show="jgAccount" ng-click="showCode = true">Get code</button>
			
			<div >
				<div ng-show="showCode">
					<label for="sourceCode">Widget code</label>		
					<textarea id="sourceCode"  readonly rows="10" cols="80"><script type="text/javascript" id="just-causes-{{guid}}">(function(){function async_load(){var s=document.createElement('script');s.type='text/javascript';s.async=true;var theUrl='https://just-causes-widget.azurewebsites.net/just-causes-1.0.0.js?jgaccount={{jgAccount64()}}';s.src=theUrl+(theUrl.indexOf("?") >= 0 ? "&" : "?")+'ref='+encodeURIComponent(window.location.href);var embedder=document.getElementById('just-causes-{{guid}}');embedder.parentNode.insertBefore(s,embedder);}if(window.attachEvent){window.attachEvent('onload',async_load);}else{window.addEventListener('load',async_load,false);}})();</script></textarea>
				</div>
			</div>
			
			<div style="margin:20px;">
				<div id="previewWidget" src=""></div>
			</div>
			
		</div>
	  </section>
    </div>
	

	
    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Just-causes-widget maintained by <a href="https://github.com/alwynlombaard">alwynlombaard</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

	
    
  </body>
</html>
